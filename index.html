<!DOCTYPE html>
<html lang="en">

<head>
	<title>Lilly Key Phillips</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<link type="text/css" rel="stylesheet" href="main.css">
</head>

<body>

	<div id="info">
		<!-- <a href="https://threejs.org" target="_blank" rel="noopener">three.js</a> webgl - spotlight<br /> -->
		Lilly Key Phillips
		<br>
		<div class="ContactBar_container__lOpqe"
			>
			<a href="mailto:lillykeyphillips@gmail.com" class="IconButton_iconWrapper__goTKf" target="_blank" rel="noreferrer"
				aria-label="Mail"><svg width="40" height="40" viewBox="-4 -4 72 72" fill="white"
					xmlns="http://www.w3.org/2000/svg">
					<path fill-rule="evenodd" clip-rule="evenodd"
						d="M32 64C49.6731 64 64 49.6731 64 32C64 14.3269 49.6731 0 32 0C14.3269 0 0 14.3269 0 32C0 49.6731 14.3269 64 32 64ZM31.8477 33.7792C32.2371 34.0603 32.7629 34.0603 33.1523 33.7792L49.4484 22.0185C50.3255 21.3856 49.8777 20 48.7961 20H16.2039C15.1223 20 14.6745 21.3856 15.5516 22.0185L31.8477 33.7792ZM14.6147 43.1167H50.3853C51.0009 43.1167 51.5 42.6176 51.5 42.002V24.9792C51.5 24.0797 50.4894 23.5507 49.7502 24.0632L33.1351 35.583C32.7531 35.8478 32.2469 35.8478 31.8649 35.583L15.2498 24.0632C14.5106 23.5507 13.5 24.0797 13.5 24.9792V42.002C13.5 42.6176 13.9991 43.1167 14.6147 43.1167Z"
						style="fill:var(--theme-color-neutral-main-100)"></path>
				</svg></a><a href="https://www.linkedin.com/in/lillyphillips/" class="IconButton_iconWrapper__goTKf"
				target="_blank" rel="noreferrer" aria-label="LinkedIn"><svg width="40" height="40" viewBox="-4 -4 72 72"
					fill="white" xmlns="http://www.w3.org/2000/svg">
					<path
						d="M32 0C14.3296 0 0 14.3296 0 32C0 49.6704 14.3296 64 32 64C49.6704 64 64 49.6704 64 32C64 14.3296 49.6704 0 32 0ZM22.7012 48.375H14.9077V24.9282H22.7012V48.375ZM18.8047 21.7266H18.7539C16.1387 21.7266 14.4473 19.9263 14.4473 17.6763C14.4473 15.3755 16.1904 13.625 18.8564 13.625C21.5225 13.625 23.1631 15.3755 23.2139 17.6763C23.2139 19.9263 21.5225 21.7266 18.8047 21.7266ZM50.8027 48.375H43.0103V35.8315C43.0103 32.6792 41.8818 30.5293 39.062 30.5293C36.9092 30.5293 35.627 31.9795 35.0635 33.3794C34.8574 33.8804 34.8071 34.5806 34.8071 35.2812V48.375H27.0142C27.0142 48.375 27.1162 27.1279 27.0142 24.9282H34.8071V28.248C35.8428 26.6504 37.6958 24.3779 41.8306 24.3779C46.958 24.3779 50.8027 27.729 50.8027 34.9307V48.375Z"
						style="fill:var(--theme-color-neutral-main-100)"></path>
				</svg></a><a href="https://github.com/lillykp" class="IconButton_iconWrapper__goTKf" target="_blank"
				rel="noreferrer" aria-label="GitHub"><svg width="40" height="40" viewBox="-4 -4 72 72" fill="white"
					xmlns="http://www.w3.org/2000/svg">
					<path
						d="M31.996 0C14.328 0 0 14.6898 0 32.811C0 47.3047 9.168 59.6007 21.888 63.9431C23.488 64.2454 24.072 63.2323 24.072 62.3622C24.072 61.5819 24.044 59.519 24.028 56.782C15.128 58.7633 13.248 52.3824 13.248 52.3824C11.796 48.5915 9.696 47.5825 9.696 47.5825C6.788 45.5482 9.912 45.589 9.912 45.589C13.124 45.8219 14.812 48.9714 14.812 48.9714C17.668 53.9838 22.304 52.5377 24.128 51.6962C24.416 49.576 25.244 48.1299 26.16 47.3088C19.056 46.4796 11.584 43.665 11.584 31.0953C11.584 27.5127 12.832 24.5838 14.88 22.288C14.548 21.4587 13.452 18.1212 15.192 13.6073C15.192 13.6073 17.88 12.7249 23.992 16.9692C26.544 16.2421 29.28 15.8785 32.004 15.8663C34.72 15.8826 37.46 16.2421 40.016 16.9733C46.124 12.729 48.808 13.6113 48.808 13.6113C50.552 18.1294 49.456 21.4628 49.128 22.2921C51.18 24.5878 52.416 27.5168 52.416 31.0994C52.416 43.7017 44.936 46.4755 37.808 47.2884C38.956 48.3015 39.98 50.3032 39.98 53.3628C39.98 57.7502 39.94 61.2878 39.94 62.3622C39.94 63.2405 40.516 64.2617 42.14 63.939C54.84 59.5925 64 47.3007 64 32.811C64 14.6898 49.672 0 31.996 0Z"
						style="fill:var(--theme-color-neutral-main-100)"></path>
				</svg></a>
		</div>
	</div>

	<!-- Import maps polyfill -->
	<!-- Remove this when import maps will be widely supported -->
	<script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>

	<script type="importmap">
			{
				"imports": {
					"three": "./three.module.js",
					"three/addons/": "./jsm/"
				}
			}
		</script>

	<script type="module">

		import * as THREE from 'three';

		import { GUI } from './lil-gui.module.min.js';

		import { PLYLoader } from './PLYLoader.js';
		import { OrbitControls } from './OrbitControls.js';

		let renderer, scene, camera;

		let spotLight, lightHelper;

		init();

		function init() {

			renderer = new THREE.WebGLRenderer({ antialias: true });
			renderer.setPixelRatio(window.devicePixelRatio);
			renderer.setSize(window.innerWidth, window.innerHeight);
			document.body.appendChild(renderer.domElement);

			renderer.shadowMap.enabled = true;
			renderer.shadowMap.type = THREE.PCFSoftShadowMap;

			renderer.outputEncoding = THREE.sRGBEncoding;

			renderer.toneMapping = THREE.ACESFilmicToneMapping;
			renderer.toneMappingExposure = 1;

			renderer.setAnimationLoop(render);

			scene = new THREE.Scene();

			camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 1, 1000);
			camera.position.set(70, 50, 10);

			const controls = new OrbitControls(camera, renderer.domElement);
			controls.minDistance = 20;
			controls.maxDistance = 100;
			controls.maxPolarAngle = Math.PI / 2;
			controls.target.set(0, 18, 0);
			controls.update();

			const ambient = new THREE.HemisphereLight(0xffffff, 0x444444, 0.05);
			scene.add(ambient);

			const loader = new THREE.TextureLoader();
			const filenames = ['disturb.jpg'];

			const textures = { none: null };

			// for ( let i = 0; i < filenames.length; i ++ ) {

			// const filename = filenames[ i ];

			const texture = loader.load('disturb.jpg');
			texture.minFilter = THREE.LinearFilter;
			texture.magFilter = THREE.LinearFilter;
			texture.encoding = THREE.sRGBEncoding;

			textures['disturb.jpg'] = texture;

			// }

			spotLight = new THREE.SpotLight(0xffffff, 5);
			spotLight.position.set(25, 50, 25);
			spotLight.angle = Math.PI / 6;
			spotLight.penumbra = 1;
			spotLight.decay = 2;
			spotLight.distance = 100;
			spotLight.map = textures['disturb.jpg'];

			spotLight.castShadow = true;
			spotLight.shadow.mapSize.width = 1024;
			spotLight.shadow.mapSize.height = 1024;
			spotLight.shadow.camera.near = 10;
			spotLight.shadow.camera.far = 200;
			spotLight.shadow.focus = 1;
			scene.add(spotLight);

			// lightHelper = new THREE.SpotLightHelper( spotLight );
			// scene.add( lightHelper );

			//

			const geometry = new THREE.PlaneGeometry(25, 25);
			const material = new THREE.MeshLambertMaterial({ color: 0xFFFFFF });

			const mesh = new THREE.Mesh(geometry, material);
			mesh.position.set(0, - 1, 0);
			mesh.rotation.x = - Math.PI / 2;
			mesh.receiveShadow = true;
			scene.add(mesh);

			//

			new PLYLoader().load('./Lucy100k.ply', function (geometry) {

				geometry.scale(0.024, 0.024, 0.024);
				geometry.computeVertexNormals();

				const material = new THREE.MeshLambertMaterial();

				const mesh = new THREE.Mesh(geometry, material);
				mesh.rotation.y = - Math.PI / 2;
				mesh.position.y = 18;
				mesh.castShadow = true;
				mesh.receiveShadow = true;
				scene.add(mesh);

			});

			window.addEventListener('resize', onWindowResize);

			// GUI

			// const gui = new GUI();
			//
			// const params = {
			// 	map: textures[ 'disturb.jpg' ],
			// 	color: spotLight.color.getHex(),
			// 	intensity: spotLight.intensity,
			// 	distance: spotLight.distance,
			// 	angle: spotLight.angle,
			// 	penumbra: spotLight.penumbra,
			// 	decay: spotLight.decay,
			// 	focus: spotLight.shadow.focus,
			// 	shadows: true
			// };
			//
			// gui.add( params, 'map', textures ).onChange( function ( val ) {
			//
			// 	spotLight.map = val;
			//
			// } );
			//
			// gui.addColor( params, 'color' ).onChange( function ( val ) {
			//
			// 	spotLight.color.setHex( val );
			//
			// } );
			//
			// gui.add( params, 'intensity', 0, 10 ).onChange( function ( val ) {
			//
			// 	spotLight.intensity = val;
			//
			// } );
			//
			//
			// gui.add( params, 'distance', 50, 200 ).onChange( function ( val ) {
			//
			// 	spotLight.distance = val;
			//
			// } );
			//
			// gui.add( params, 'angle', 0, Math.PI / 3 ).onChange( function ( val ) {
			//
			// 	spotLight.angle = val;
			//
			// } );
			//
			// gui.add( params, 'penumbra', 0, 1 ).onChange( function ( val ) {
			//
			// 	spotLight.penumbra = val;
			//
			// } );
			//
			// gui.add( params, 'decay', 1, 2 ).onChange( function ( val ) {
			//
			// 	spotLight.decay = val;
			//
			// } );
			//
			// gui.add( params, 'focus', 0, 1 ).onChange( function ( val ) {
			//
			// 	spotLight.shadow.focus = val;
			//
			// } );
			//
			//
			// gui.add( params, 'shadows' ).onChange( function ( val ) {
			//
			// 	renderer.shadowMap.enabled = val;
			//
			// 	scene.traverse( function ( child ) {
			//
			// 		if ( child.material ) {
			//
			// 			child.material.needsUpdate = true;
			//
			// 		}
			//
			// 	} );
			//
			// } );
			//
			// gui.open();

		}

		function onWindowResize() {

			camera.aspect = window.innerWidth / window.innerHeight;
			camera.updateProjectionMatrix();

			renderer.setSize(window.innerWidth, window.innerHeight);

		}

		function render() {

			const time = performance.now() / 3000;

			spotLight.position.x = Math.cos(time) * 25;
			spotLight.position.z = Math.sin(time) * 25;

			// lightHelper.update();

			renderer.render(scene, camera);

		}

	</script>

</body>

</html>